
                <!DOCTYPE html>
                <html lang="de">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Erstelltes Formular        </div>
                </title>
                    <style>
                        .header-container {
                            background-color: white;
                            border-radius: 8px;
                            padding: 20px;
                            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                            margin-bottom: 20px;
                        }

                        .prev-header-content {
                            column-count: 2;
                        }

                        .header-sub-text{
                            text-align: center;
                        }

                        .prev-header-logo {
                            float: left;
                            width: 150px;
                            height: 150px;
                            margin-right: 15px;
                        }

                        .prev-header-text {
                            float: left;
                            text-align: left;
                        }

                        body {
                            font-family: Arial, sans-serif;
                            max-width: 600px;
                            margin: 0 auto;
                            padding: 20px;
                        }
                        .form-element {
                            margin-bottom: 15px;
                        }
                        label {
                            display: block;
                            margin-bottom: 5px;
                            font-weight: bold;
                        }
                        input, textarea, select {
                            width: 100%;
                            padding: 8px;
                            border: 1px solid #ccc;
                            border-radius: 4px;
                        }
                        .radio-group label, .checkbox-group label {
                            display: block;
                            margin-bottom: 5px;
                            font-weight: normal;
                        }
                        .submit-btn {
                            background-color: #4CAF50;
                            color: white;
                            padding: 10px 15px;
                            border: none;
                            border-radius: 4px;
                            cursor: pointer;
                            font-weight: bold;
                        }
                    </style>
                </head>
                <header>
                    <div class="header-container" id="header-container">
                        <div class="prev-header-content">
                            <div class="header-logo"><img id="header-img" src="undefined" alt="LOGO" width="150px" height="150px"></div>
                            <div class="prev-header-text"><h1>undefined</h1></div>
                        </div>
                        <div class="header-sub-text"><h3>undefined</h3></div>
                    </div>
                </header>
                <body>
                    <form id="generated-form">
                
        <div class="form-element">
            <label>Textfeld-1:</label>
            <small></small><input type="text" name="element-0-text" id="element-0-text" placeholder="Text eingeben" value="Textfeld-1">
        </div>
        <div class="form-element">
            <label>Textbereich-1:</label>
            <small></small><textarea name="element-1-textarea" id="element-1-textarea" rows="4" placeholder="Längeren Text eingeben">Textbereich-1</textarea>
        </div>
        <div class="form-element">
            <label>E-Mail-1:</label>
            <small></small><input type="email" name="element-2-email" id="element-2-email" placeholder="E-Mail-Adresse eingeben" value="beispiel1@email.com">
        </div>
        <div class="form-element">
            <label>Zahl-1:</label>
            <small></small><input type="number" name="element-3-number" id="element-3-number" placeholder="Zahl eingeben" value="1">
        </div>
        <div class="form-element">
            <label>Datum-1:</label>
            <small></small><input type="date" name="element-4-date" id="element-4-date" value="2025-11-12">
        </div>
        <div class="form-element">
            <label>Auswahlmenü-1:</label>
            <small></small><select name="element-5-dropdown" id="element-5-dropdown"><option value="">Bitte auswählen</option><option value="test1">test1</option><option value="test2">test2</option><option value="test3">test3</option></select>
        </div>
        <div class="form-element">
            <label>Single-Choice-1:</label>
            <small></small><div class="radio-group">
                        <label><input type="radio" name="element-6-0" value="test1"> test1</label>
                    
                        <label><input type="radio" name="element-6-1" value="test2"> test2</label>
                    
                        <label><input type="radio" name="element-6-2" value="test3"> test3</label>
                    </div>
        </div>
        <div class="form-element">
            <label>Multiple-Choice-1:</label>
            <small></small><div class="checkbox-group">
                        <label><input type="checkbox" name="element-7-0" value="test1"> test1</label>
                    
                        <label><input type="checkbox" name="element-7-1" value="test2"> test2</label>
                    
                        <label><input type="checkbox" name="element-7-2" value="test3"> test3</label>
                    </div>
        </div>
                    <div class="form-element">
                        <button type="submit" class="submit-btn">Absenden</button>
                    </div>
                </form>
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const form = document.getElementById('generated-form');
                        const downloadButton = document.createElement('button');

                        // Download-Button erstellen und stylen
                        downloadButton.textContent = 'Formular als JSON herunterladen';
                        downloadButton.type = 'button';
                        downloadButton.className = 'submit-btn';
                        downloadButton.style.backgroundColor = '#2196F3';
                        downloadButton.style.marginTop = '10px';

                        // Download-Button nach dem Formular einfügen
                        form.parentNode.insertBefore(downloadButton, form.nextSibling);

                        // Funktion zum Sammeln der Formulardaten
                        function collectFormData() {
                            const formData = {};
                            const formElements = form.querySelectorAll('.form-element');

                            formElements.forEach(element => {
                                const labelElement = element.querySelector('label');
                                if (!labelElement) return;

                                const labelText = labelElement.textContent.replace(/[:-]\d+$/, '').trim();
                                const inputElements = element.querySelectorAll('input, textarea, select');

                                if (inputElements.length === 1) {
                                    // Einzelnes Input-Element
                                    const input = inputElements[0];
                                    let value = '';

                                    if (input.type === 'checkbox') {
                                        value = input.checked;
                                    } else if (input.type === 'radio') {
                                        const selectedRadio = element.querySelector('input[type="radio"]:checked');
                                        value = selectedRadio ? selectedRadio.value : '';
                                    } else if (input.tagName === 'SELECT') {
                                        value = input.value;
                                    } else {
                                        value = input.value;
                                    }

                                    if (labelText && (value !== '' || input.type === 'checkbox')) {
                                        formData[labelText] = value;
                                    }
                                } else if (inputElements.length > 1) {
                                    // Mehrere Input-Elemente (Radio-Buttons, Checkboxen)
                                    if (element.querySelector('input[type="radio"]')) {
                                        // Radio-Buttons - nur der ausgewählte Wert
                                        const selectedRadio = element.querySelector('input[type="radio"]:checked');
                                        if (selectedRadio) {
                                            formData[labelText] = selectedRadio.value;
                                        }
                                    } else if (element.querySelector('input[type="checkbox"]')) {
                                        // Checkboxen - Array aller ausgewählten Werte
                                        const checkedBoxes = element.querySelectorAll('input[type="checkbox"]:checked');
                                        const values = Array.from(checkedBoxes).map(cb => cb.value);
                                        if (values.length > 0) {
                                            formData[labelText] = values;
                                        }
                                    }
                                }
                            });

                            return formData;
                        }

                        // Funktion zum Herunterladen der JSON-Daten
                        function downloadJSON() {
                            const formData = collectFormData();
                            const jsonString = JSON.stringify(formData, null, 2);
                            const blob = new Blob([jsonString], { type: 'application/json' });
                            const url = URL.createObjectURL(blob);

                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'formular-daten.json';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                        }

                        // Event-Listener für den Download-Button
                        downloadButton.addEventListener('click', downloadJSON);

                        // Optional: Daten auch beim Absenden des Formulars sammeln (verhindert Standard-Submit)
                        form.addEventListener('submit', function(event) {
                            event.preventDefault();
                            downloadJSON();
                        });
                    });
                </script>
            </body>
            </html>